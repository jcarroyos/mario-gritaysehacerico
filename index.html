<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🍄 Mario Grita y Se Hace Rico</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script src="p5.serialport.js"></script>
</head>
<body>
    <div id="game-container">
        <header>
            <h1>🍄 Mario Grita y Se Hace Rico</h1>
            <div id="connection-status">
                <span id="status-text">Desconectado</span>
                <button id="connect-btn">🔌 Conectar Arduino</button>
            </div>
        </header>
        
        <div id="game-info">
            <div class="info-panel">
                <span>Puntuación: <strong id="score">0</strong></span>
            </div>
            <div class="info-panel">
                <span>Nivel de Voz: <strong id="mic-level">0</strong></span>
            </div>
        </div>
        
        <div id="game-canvas"></div>
        
        <div id="controls-help">
            <h3>🎮 Controles</h3>
            <p>🎤 <strong>Voz baja:</strong> Salto pequeño</p>
            <p>🎤 <strong>Voz media:</strong> Salto medio</p>
            <p>🎤 <strong>Voz fuerte:</strong> Salto alto</p>
            <p>🔇 <strong>Silencio:</strong> Mario en el suelo</p>
            <p><strong>Modo Prueba:</strong> ESPACIO = Saltar | R = Reiniciar</p>
            
            <h4>📋 Configuración para Windows:</h4>
            <ol>
                <li>Descargar <strong>"p5.serialcontrol-win32-x64.zip"</strong></li>
                <li>Extraer y ejecutar <strong>"p5.serialcontrol.exe"</strong></li>
                <li>Si Windows bloquea: <em>Propiedades → Desbloquear</em></li>
                <li>Verificar puerto Arduino en <strong>COM12</strong></li>
                <li>Permitir en Firewall el puerto <strong>8081</strong></li>
            </ol>
            
            <h4>🔧 Verificar puerto en Windows:</h4>
            <p><code>Device Manager → Ports (COM & LPT)</code></p>
        </div>
        
        <div id="error-message" class="hidden">
            <p id="error-text"></p>
            <button id="retry-btn">🔄 Reintentar</button>
        </div>
    </div>
    
    <script src="game.js"></script>
</body>
</html>
